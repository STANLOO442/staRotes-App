




<script>
  document.addEventListener('DOMContentLoaded', function () {
    const signupForm = document.getElementById('signupForm');
  
    if (signupForm) {
      signupForm.addEventListener('submit', function (event) {
        event.preventDefault();
  
        // Get form data and serialize it
        const formData = new FormData(signupForm);
        const serializedFormData = new URLSearchParams(formData).toString();
  
        // Make AJAX request with proper headers
        fetch('/signup', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json', // Set the content type to JSON
          },
          body: JSON.stringify(Object.fromEntries(formData)), // Convert formData to JSON
        })
          .then(response => response.json())
          .then(data => {
            // Handle the response data (e.g., redirect to login page)
            console.log(data);
  
            // Example: Redirect to login page on successful signup
            if (data.userId) {
              window.location.href = '/login';
            }
          })
          .catch(error => {
            // Handle errors (e.g., display error message to the user)
            console.error('Error:', error);
          });
      });
    }
  });
  </script>
  
